
<!DOCTYPE html>
<html lang="en">
	<head>
		<title>LAS Viewer</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link rel="stylesheet" href="/css/bootstrap.min.css">
		<link rel="stylesheet" href="/css/bootstrap-theme.min.css">
		<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>

		<style>
			body {
				color: #333;
				font-size:13px;
				font-family: 'Open Sans', sans-serif;
				background-color: #ddd;
				margin: 0px;
				overflow: hidden;
			}

			#fps {
				position: absolute;
				right: 10px;
				font-size: 20px;
				color: white;
				top: 10px;
			}

			#messages {
				position: absolute;
				left: 10px;
				bottom: 10px;
				font-size: 12px;
			}

			#container {
				position: absolute;
				left: 0px;
				top: 0px;
				width: 100%;
				bottom: 0px;
				overflow: hidden;
			}

			#control-panel {
				position: absolute;
				font-family: sans-serif;
				left: 0px;
				top: 0px;
				height: 200px;
				width: 100%;
				background-color: #444444;
				padding: 10px;
				box-sizing: border-box;
			}
			#control-panel .title {
				text-transform: uppercase;
				padding-bottom: 5px;
			}
			/* format the text inside the toggler */
			.ui-layout-toggler .content {
				font-size: 12px; /* IMPORTANT: default = 1px */
				font-weight: bold;
				text-align: center;
				color: green;
			}

			// 'important' required ONLY when applyDefaultStyles=true
			.ui-layout-resizer {
				background-color: #666 !important;
			}

			.ui-layout-east {
				background-color: #666;
				padding: 0px;
				margin: 0px;
			}

			.section {
				margin-bottom: 20px;
			}

			.section h3 {
				color: #666;
				font-weight: bold;
				text-transform: uppercase;
				border-bottom: 1px solid #666;
				font-size: 18px;

				padding: 0px;
				margin: 0 0 10px 0;
			}

			.props tr td:last-child {
				text-align: right;
			}

			#loaderProgress {
				padding: 10px 0px;
				box-sizing: border-box;
			}

			.btn-file {
				position: relative;
				overflow: hidden;
			}
			.btn-file input[type=file] {
				position: absolute;
				top: 0;
				right: 0;
				min-width: 100%;
				min-height: 100%;
				font-size: 999px;
				text-align: right;
				filter: alpha(opacity=0);
				opacity: 0;
				outline: none;
				background: white;
				cursor: inherit;
				display: block;
			}

		</style>
	</head>
	<body data-custom-load="true" data-name="plasio_laszip"
		data-tools="" data-configs="" data-path="">
		<div class="ui-layout-center">
			<div id="container"></div>
			<div id="fps"></div>
			<div id="messages"></div>
			<div id="pointCount"></div>
		</div>
		<div class="ui-layout-east">
			<div id="mainActions">
				<div class="section">
					<h3>File</h3>
					<span class="btn btn-default btn-sm btn-block btn-file">
						Browse <input type="file">
					</span>
					<div id="loaderProgress">
						<div class="progress">
							<div class="progress-bar" role="progressbar" aria-valuenow="20"
								aria-valuemin="0" aria-valuemax="100" style="width: 20%;">
							</div>
						</div>
					</div>
					<table class="props table">
					</table>
				</div>

				<div class="section">
					<h3>Camera</h3>
					<div style="text-align: center;" :class="btn-toolbar" role="toolbar">
						<div class="btn-group btn-group-sm">
							<button type="button" class="btn btn-default">Perspective</button>
							<button type="button" class="btn btn-default">Orthographic</button>
							<button type="button" class="btn btn-default">Top-View</button>
						</div>
					</div>
				</div>

				<div class="section">
					<h3>Data</h3>
					<div></div>
				</div>
			</div>
			<!--
			<div id="control-panel">
				<div class="title">Choose a las file to view</div>
			</div>
			-->
		</div>

		<div id="listener"></div>

		<div id="fileOpen" class="modal fade">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title">Open a LAZ/LAS file</h4>
					</div>
					<div class="modal-body">
						<p>Choose a LAZ/LAS file to load or drag one over.</p>
						<input id="lasfile" type="file" accepts="*/*"></input>
						<div id="loaderProgress">
						<div class="progress">
							<div class="progress-bar" role="progressbar"
								aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;">
								<span class="sr-only">60% Complete</span>
							</div>
						</div>
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					</div>
				</div><!-- /.modal-content -->
			</div><!-- /.modal-dialog -->
		</div><!-- /.modal -->

		<script src="js/jquery.js"></script>
		<script src="js/jquery.ui.js"></script>
		<script src="js/jquery.layout.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/bluebird.js"></script>
		<script src="js/common.js"></script>
		<script src="js/three.js"></script>
		<script src="js/Detector.js"></script>
		<script src="js/controls/TrackballControls.js"></script>
		<script src="js/laslaz.js"></script>
		<script src="js/render.js"></script>
		<script src="js/ui.js"></script>
		<script src="js/client.js"></script>
		<script type="x-shader/x-vertex" id="vertexshader">
			uniform float pointSize;
			uniform float blendFactor;
			uniform float clampLower;
			uniform float clampHigher;
			uniform vec3  offsets;

			attribute vec3 color;
			attribute float intensity;

			varying vec4 col;


			void main() {
				vec3 fpos = vec3(position.x - offsets.x,
								 position.z - offsets.z,
								 position.y - offsets.y);

				vec4 mvPosition = modelViewMatrix * vec4( fpos, 1.0 );
				gl_Position = projectionMatrix * mvPosition;

				float i = (intensity - clampLower) / (clampHigher - clampLower);
				vec3 intensityColor = vec3(i, i, i);

				gl_PointSize = pointSize;
				col = vec4(intensityColor * blendFactor + color * (1.0 - blendFactor), 1.0);
			}
		</script>
		<script type="x-shader/x-fragment" id="fragmentshader">
			varying vec4 col;

			void main() {
				gl_FragColor = col;
			}
		</script>
	</body>
</html>

